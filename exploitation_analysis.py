import matplotlib.pyplot as plt
import seaborn as sns


def histogram(df):
    exclude_columns = ['State', 'CMS Certification Number (CCN)', 'Provider Name', 'Address', 'City/Town', 'ZIP Code',
                       'Telephone Number']
    numeric_columns = df.select_dtypes(include=['float64', 'int64', 'float32', 'int32']).columns
    columns_to_analyze = [col for col in numeric_columns if col not in exclude_columns]

    correlation_matrix = df[numeric_columns].corr()

    # heatmap for correlation matrix
    plt.figure(figsize=(12, 8))
    sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', fmt='.2f')
    plt.title('Correlation Matrix')
    plt.show()

    for column in columns_to_analyze:
        print(f"Statistics for column {column}:")
        # maybe print only the mean and the median i.e. 50% ?
        # print(df[column].describe().loc[['mean', '50%']], "\n")

        print(df[column].describe(), "\n")

        plt.figure(figsize=(10, 4))
        plt.hist(df[column], bins=20, edgecolor='black')
        plt.title(f"Histogram of {column}")
        plt.xlabel(column)
        plt.ylabel("Frequency")
        plt.show()


